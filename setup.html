<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Project Setup – Code Publishing Tutorial</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./choose_license.html" rel="next">
<link href="./intro.html" rel="prev">
<link href="./images/LMU-OSC_favicon.jpg" rel="icon" type="image/jpeg">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-650dd1a6464f4a1c4dc33bcbd6e46959.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<meta name="mermaid-theme" content="neutral">
<script src="site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="site_libs/quarto-diagram/mermaid.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Code Publishing Tutorial</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/lmu-osc/code-publishing">
            Source Code
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/lmu-osc/code-publishing/issues">
            Report a Bug
            </a>
          </li>
      </ul>
    </div>
    <a href="https://www.osc.uni-muenchen.de/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-house-heart"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./setup.html">Project Setup</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./setup.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Project Setup</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./choose_license.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Choose a License</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./make_readme.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Make a README</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./archive.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Archive Your Project</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<p><img src="./images/LMU-OSC_logo.jpg" class="img-fluid" width="175"></p>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#create-quarto-project" id="toc-create-quarto-project" class="nav-link active" data-scroll-target="#create-quarto-project">Create Quarto Project</a></li>
  <li><a href="#decide-on-structure" id="toc-decide-on-structure" class="nav-link" data-scroll-target="#decide-on-structure">Decide on Structure</a></li>
  <li><a href="#add-data" id="toc-add-data" class="nav-link" data-scroll-target="#add-data">Add Data</a></li>
  <li><a href="#add-code" id="toc-add-code" class="nav-link" data-scroll-target="#add-code">Add Code</a>
  <ul class="collapse">
  <li><a href="#coding-best-practices" id="toc-coding-best-practices" class="nav-link" data-scroll-target="#coding-best-practices">Coding Best Practices</a></li>
  </ul></li>
  <li><a href="#cite-data-and-software" id="toc-cite-data-and-software" class="nav-link" data-scroll-target="#cite-data-and-software">Cite Data and Software</a>
  <ul class="collapse">
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#software" id="toc-software" class="nav-link" data-scroll-target="#software">Software</a></li>
  </ul></li>
  <li><a href="#the-last-mile" id="toc-the-last-mile" class="nav-link" data-scroll-target="#the-last-mile">The Last Mile</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/lmu-osc/code-publishing/edit/main/setup.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/lmu-osc/code-publishing/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project Setup</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>We will start by setting up a simple example of a reproducible report.</p>
<section id="create-quarto-project" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="create-quarto-project">Create Quarto Project</h2>
<p>First, we will need to create a new Quarto project.</p>
<p>If you haven’t already, open RStudio – see <a href="#nte-terminal" class="quarto-xref">Note&nbsp;1</a> for how to use the terminal instead. Then, click on <em>File</em> &gt; <em>New Project…</em> to open the <em>New Project Wizard</em>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/setup_01.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="500"></p>
</figure>
</div>
<p>Here, select <em>New Directory</em></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/setup_02.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></p>
</figure>
</div>
<p>And choose the project type <em>Quarto Project</em>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/setup_03.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></p>
</figure>
</div>
<p>Finally, enter the name of the directory where our report will be created in, for example <code>code-publishing-exercise</code>.</p>
<p>As we will use Git to track the version history of files, be sure to check <em>Create a git repository</em>. If you don’t know what Git is, have a look at the tutorial “<a href="https://lmu-osc.github.io/Introduction-RStudio-Git-GitHub/">Introduction to version control with git and GitHub within RStudio</a>”.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/renv.svg" class="img-fluid figure-img" width="250"></p>
<figcaption>renv: A dependency management toolkit for R</figcaption>
</figure>
</div>
</div></div><p>Also, we will utilize the package <a href="https://rstudio.github.io/renv/"><code>renv</code></a> to track the R packages our project depends on. Using it makes it easier for others to view and obtain them at a later point in time. Therefore make sure that the box <em>Use renv with this project</em> is checked. Again, if this is the first time you are hearing about <code>renv</code>, have a look at the tutorial “<a href="https://lmu-osc.github.io/introduction-to-renv/">Introduction to {renv}</a>”.</p>
<p>If you are already familiar with Markdown and Quarto, you can uncheck the box <em>Use visual markdown editor</em>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/setup_04.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></p>
</figure>
</div>
<p>Click on <em>Create Project</em>. Your RStudio window should now look similar to this:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="images/setup_05.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="images/setup_05.png" class="img-fluid quarto-figure quarto-figure-center figure-img" alt="The project `code-publishing-exercise` opened in RStudio. The source pane to the top left has a Quarto file open called &quot;code-publishing-exercise.qmd&quot;. The console pane to the bottom left indicates by its output that renv is active in the current project. The environment pane to the top right indicates that the environment is currently empty. The output pane to the bottom right shows the files in the current project."></a></p>
</figure>
</div>
<p>If, like in the image, a Quarto file with some demo content was opened automatically, you can close and delete it, for example, using RStudio’s file manager.</p>
<p>Make sure that your project is in a consistent state according to <code>renv</code> by running:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Console</strong></pre>
</div>
<div class="sourceCode" id="cb1" data-filename="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">status</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If it reports packages that are not used, synchronize the lock file using:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Console</strong></pre>
</div>
<div class="sourceCode" id="cb2" data-filename="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="nte-terminal" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note&nbsp;1: Without RStudio
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Without RStudio, one can create a Quarto project with version control and <code>renv</code> enabled by typing the following into a terminal:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb3" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> create project default code-publishing-exercise</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> code-publishing-exercise/</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span> code-publishing-exercise.qmd</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> init</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout <span class="at">-b</span> main</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, one can open an R session by simply typing <code>R</code> into the terminal. Next, make sure that <code>getwd()</code> indicates that the working directory is <code>code-publishing-exercise</code>. Then, initialize <code>renv</code>:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Console</strong></pre>
</div>
<div class="sourceCode" id="cb4" data-filename="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">init</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p>You are now ready to stage and commit your files. You can either stage files separately or the whole project folder at once. If you do the latter, we recommend you to inspect the untracked changes before staging all of them:</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>In file paths, a period (<code>.</code>) means “the current directory”, while two periods (<code>..</code>) mean “the parent directory”. Therefore <code>git add .</code> means “stage the current directory for committing”.</p>
</div></div><div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb5" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Since no commits have been made so far, this should include every file that is not covered by the <code>.gitignore</code> file. If everything can be staged for committing – as is the case in this tutorial – you can follow up with:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb6" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Initial commit"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you see a file you’d rather not commit, delete it or add its name to the <code>.gitignore</code> file. If you don’t check your changes before committing, you might accidentally commit something you’d rather not.</p>
<div id="tip-author-identity-unknown" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;1
</div>
</div>
<div class="callout-body-container callout-body">
<p>If <code>git commit</code> fails with the message <code>Author identity unknown</code>, you need to tell Git who you are. Run the following commands to set your name and email address:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb7" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> config user.name <span class="st">"YOUR NAME"</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> config user.email <span class="st">"YOUR EMAIL ADDRESS"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, commit again.</p>
</div>
</div>
</section>
<section id="decide-on-structure" class="level2">
<h2 class="anchored" data-anchor-id="decide-on-structure">Decide on Structure</h2>
<p>Before adding your project files, it is helpful to decide on a directory structure, that is, how to call each file and where to put it. In general, the directory structure should facilitate understanding a project by breaking it into logical chunks. There is no single best solution, as a good structure depends on where a project’s complexity lies. However, it is usually helpful if the different files and folders reflect the execution order. For example, if there are multiple data processing stages, one can possibly differentiate input (raw data), intermediate (processed data), and output files (e.g., figures) and put them into separate folders. Similarly, the corresponding code files (e.g., preparation, modeling, visualization) can be prefixed with increasing numbers.</p>
<p>Luckily, there are already numerous proposals for how to organize one’s project files, both general <span class="citation" data-cites="Wilson2017 TIER4">(<a href="#ref-TIER4" role="doc-biblioref">Project TIER, 2021</a>; e.g., <a href="#ref-Wilson2017" role="doc-biblioref">Wilson et al., 2017</a>)</span> as well as specific to a particular programming language <span class="citation" data-cites="Marwick2018 Vuorre2021">(e.g., <a href="#ref-Marwick2018" role="doc-biblioref">Marwick et al., 2018</a>; <a href="#ref-Vuorre2021" role="doc-biblioref">Vuorre &amp; Crump, 2021</a>)</span> or journal <span class="citation" data-cites="Vilhuber2021">(<a href="#ref-Vilhuber2021" role="doc-biblioref">Vilhuber, 2021</a>)</span>. We recommend you to follow the standards of your field.</p>
<p>For the purpose of this tutorial, we will provide you with a data set and a corresponding analysis. They are simple enough to be put together in the root folder of your project.</p>
</section>
<section id="add-data" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="add-data">Add Data</h2>
<p>You can now download the data set we have prepared for you and put it into your project folder: <a href="_01_Example/Data.csv" download=""><code>Data.csv</code></a></p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/palmerpenguins.png" class="img-fluid figure-img" width="250"></p>
<figcaption>palmerpenguins: Palmer Archipelago (Antarctica) Penguin Data</figcaption>
</figure>
</div>
</div></div><p>The data set is from the package <a href="https://allisonhorst.github.io/palmerpenguins/"><code>palmerpenguins</code></a><a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> and contains the recorded bill lengths and sex of penguins living on three islands in the Palmer Archipelago, Antarctica. It was made available under the license <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0&nbsp;1.0</a>.</p>
<div id="imp-legal-restrictions" class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important&nbsp;1: Consider Legal Restrictions Before Sharing
</div>
</div>
<div class="callout-body-container callout-body">
<p>Everything you put into the project folder will be shared publicly. For reasons of reproducibility, this should include the data you analyze. Of course, you should only share them to the extent you are allowed to, taking into account:</p>
<ol type="1">
<li>applicable privacy laws (e.g., the GDPR for European citizens),</li>
<li>contractual obligations (e.g., with your data provider),</li>
<li>copyright of the data and their particular structure, and</li>
<li>any <em>sui generis</em> database right.</li>
</ol>
<p>Privacy laws and contractual obligations may require you to create a completely anonymized or synthetic data set<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> (if possible), or prohibit any sharing of data, in which case you should provide a reference to a data repository where they can be obtained from. For further information, you can watch the talk “<a href="https://osf.io/j6fy8">Data anonymity</a>” by Felix Schönbrodt recorded during the LMU Open Science Center Summer School 2023 and have a look at <a href="https://osf.io/z6gcu">the accompanying slides</a>.</p>
<p>Purely factual data such as measurements are usually not copyrightable, but literary or artistic works that cross the threshold of originality are. Additionally, in some jurisdictions data can be subject to <em>sui generis</em> database rights which prevent extracting substantial parts of a database. As a consequence, you need to ensure that you own or have authority to share the data with respect to copyright and similar rights, and to license it to others (see “<a href="./choose_license.html">Choose a License</a>”).</p>
</div>
</div>
<p>When publishing a data set, it is important to document the meaning (e.g., units) and possible values of its variables. This is typically done with a <em>data dictionary</em> (also called a <em>codebook</em>). In the following, we will demonstrate how to create a simple data dictionary using the R packages <a href="https://cran.r-project.org/package=tinylabels"><code>tinylabels</code></a>, <a href="https://easystats.github.io/datawizard/"><code>datawizard</code></a>, and <a href="https://vincentarelbundock.github.io/tinytable/"><code>tinytable</code></a>. You can install them now using:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Console</strong></pre>
</div>
<div class="sourceCode" id="cb8" data-filename="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>(<span class="fu">c</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tinylabels"</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"datawizard"</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"tinytable"</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You can put the code that follows for creating the data dictionary into a new file called <code>create_data_dictionary.R</code>.</p>
<p>Using <code>tinylabels</code> we can add labels to the variables of a <code>data.frame</code> in R:<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>create_data_dictionary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="do">## dat &lt;- read.csv("Data.csv")</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>descriptions <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">species =</span> <span class="st">"a character string denoting penguin species"</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">island =</span> <span class="st">"a character string denoting island in Palmer Archipelago, Antarctica"</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">bill_length_mm =</span> <span class="st">"a number denoting bill length (millimeters)"</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">bill_depth_mm =</span> <span class="st">"a number denoting bill depth (millimeters)"</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">flipper_length_mm =</span> <span class="st">"an integer denoting flipper length (millimeters)"</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">body_mass_g =</span> <span class="st">"an integer denoting body mass (grams)"</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">sex =</span> <span class="st">"a character string denoting penguin sex"</span>,</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">year =</span> <span class="st">"an integer denoting the study year"</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>tinylabels<span class="sc">::</span><span class="fu">variable_label</span>(dat) <span class="ot">&lt;-</span> descriptions</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>Subsequently, <code>datawizard</code> can be employed to create the data dictionary containing the name and label, but also some other information about each variable:</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/datawizard.png" class="img-fluid figure-img" width="250"></p>
<figcaption>datawizard: Easy Data Wrangling and Statistical Transformations</figcaption>
</figure>
</div>
</div></div><div class="cell">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>create_data_dictionary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>(dict <span class="ot">&lt;-</span> datawizard<span class="sc">::</span><span class="fu">data_codebook</span>(dat) <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">subset</span>(<span class="at">select =</span> <span class="sc">-</span>.row_id) <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  tinytable<span class="sc">::</span><span class="fu">tt</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output-display">
<!-- preamble start -->

    <script>
      function styleCell_xhygqduk7fwm6ao0m5fp(i, j, css_id) {
        var table = document.getElementById("tinytable_xhygqduk7fwm6ao0m5fp");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_xhygqduk7fwm6ao0m5fp');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_xhygqduk7fwm6ao0m5fp(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_xhygqduk7fwm6ao0m5fp");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }
window.addEventListener('load', function () { styleCell_xhygqduk7fwm6ao0m5fp(0, 0, 'tinytable_css_idj01keln98k4s7845jeuv') })
window.addEventListener('load', function () { styleCell_xhygqduk7fwm6ao0m5fp(0, 1, 'tinytable_css_idj01keln98k4s7845jeuv') })
window.addEventListener('load', function () { styleCell_xhygqduk7fwm6ao0m5fp(0, 2, 'tinytable_css_idj01keln98k4s7845jeuv') })
window.addEventListener('load', function () { styleCell_xhygqduk7fwm6ao0m5fp(0, 3, 'tinytable_css_idj01keln98k4s7845jeuv') })
window.addEventListener('load', function () { styleCell_xhygqduk7fwm6ao0m5fp(0, 4, 'tinytable_css_idj01keln98k4s7845jeuv') })
window.addEventListener('load', function () { styleCell_xhygqduk7fwm6ao0m5fp(0, 5, 'tinytable_css_idj01keln98k4s7845jeuv') })
window.addEventListener('load', function () { styleCell_xhygqduk7fwm6ao0m5fp(0, 6, 'tinytable_css_idj01keln98k4s7845jeuv') })
window.addEventListener('load', function () { styleCell_xhygqduk7fwm6ao0m5fp(0, 7, 'tinytable_css_idj01keln98k4s7845jeuv') })
    </script>

    <style>
    .table td.tinytable_css_idj01keln98k4s7845jeuv, .table th.tinytable_css_idj01keln98k4s7845jeuv {  border-bottom: solid 0.1em #d3d8dc; }
    </style>
    <div class="container">
      <table class="table table-borderless" id="tinytable_xhygqduk7fwm6ao0m5fp" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
        <thead>
        
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Label</th>
                <th scope="col">Type</th>
                <th scope="col">Missings</th>
                <th scope="col">Values</th>
                <th scope="col">N</th>
                <th scope="col">Prop</th>
              </tr>
        </thead>
        
        <tbody>
                <tr>
                  <td>1</td>
                  <td>species          </td>
                  <td>a character string denoting penguin species                         </td>
                  <td>character</td>
                  <td>0 (0.0%) </td>
                  <td>Adelie      </td>
                  <td>152</td>
                  <td>44.2%</td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>Chinstrap   </td>
                  <td>68 </td>
                  <td>19.8%</td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>Gentoo      </td>
                  <td>124</td>
                  <td>36.0%</td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>            </td>
                  <td>   </td>
                  <td>     </td>
                </tr>
                <tr>
                  <td>2</td>
                  <td>island           </td>
                  <td>a character string denoting island in Palmer Archipelago, Antarctica</td>
                  <td>character</td>
                  <td>0 (0.0%) </td>
                  <td>Biscoe      </td>
                  <td>168</td>
                  <td>48.8%</td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>Dream       </td>
                  <td>124</td>
                  <td>36.0%</td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>Torgersen   </td>
                  <td>52 </td>
                  <td>15.1%</td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>            </td>
                  <td>   </td>
                  <td>     </td>
                </tr>
                <tr>
                  <td>3</td>
                  <td>bill_length_mm   </td>
                  <td>a number denoting bill length (millimeters)                         </td>
                  <td>numeric  </td>
                  <td>2 (0.6%) </td>
                  <td>[32.1, 59.6]</td>
                  <td>342</td>
                  <td>     </td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>            </td>
                  <td>   </td>
                  <td>     </td>
                </tr>
                <tr>
                  <td>4</td>
                  <td>bill_depth_mm    </td>
                  <td>a number denoting bill depth (millimeters)                          </td>
                  <td>numeric  </td>
                  <td>2 (0.6%) </td>
                  <td>[13.1, 21.5]</td>
                  <td>342</td>
                  <td>     </td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>            </td>
                  <td>   </td>
                  <td>     </td>
                </tr>
                <tr>
                  <td>5</td>
                  <td>flipper_length_mm</td>
                  <td>an integer denoting flipper length (millimeters)                    </td>
                  <td>integer  </td>
                  <td>2 (0.6%) </td>
                  <td>[172, 231]  </td>
                  <td>342</td>
                  <td>     </td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>            </td>
                  <td>   </td>
                  <td>     </td>
                </tr>
                <tr>
                  <td>6</td>
                  <td>body_mass_g      </td>
                  <td>an integer denoting body mass (grams)                               </td>
                  <td>integer  </td>
                  <td>2 (0.6%) </td>
                  <td>[2700, 6300]</td>
                  <td>342</td>
                  <td>     </td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>            </td>
                  <td>   </td>
                  <td>     </td>
                </tr>
                <tr>
                  <td>7</td>
                  <td>sex              </td>
                  <td>a character string denoting penguin sex                             </td>
                  <td>character</td>
                  <td>11 (3.2%)</td>
                  <td>female      </td>
                  <td>165</td>
                  <td>49.5%</td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>male        </td>
                  <td>168</td>
                  <td>50.5%</td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>            </td>
                  <td>   </td>
                  <td>     </td>
                </tr>
                <tr>
                  <td>8</td>
                  <td>year             </td>
                  <td>an integer denoting the study year                                  </td>
                  <td>integer  </td>
                  <td>0 (0.0%) </td>
                  <td>2007        </td>
                  <td>110</td>
                  <td>32.0%</td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>2008        </td>
                  <td>114</td>
                  <td>33.1%</td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>2009        </td>
                  <td>120</td>
                  <td>34.9%</td>
                </tr>
                <tr>
                  <td> </td>
                  <td>                 </td>
                  <td>                                                                    </td>
                  <td>         </td>
                  <td>         </td>
                  <td>            </td>
                  <td>   </td>
                  <td>     </td>
                </tr>
        </tbody>
      </table>
    </div>
<!-- hack to avoid NA insertion in last line -->
</div>
</div>
<p>Finally, we can store the data dictionary inside an HTML file using the R package <code>tinytable</code> and put the HTML file into the project folder as well.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/tinytable.svg" class="img-fluid figure-img" width="250"></p>
<figcaption>tinytable: Simple and Configurable Tables</figcaption>
</figure>
</div>
</div></div><div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>create_data_dictionary.R</strong></pre>
</div>
<div class="sourceCode" id="cb11" data-filename="create_data_dictionary.R"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>tinytable<span class="sc">::</span><span class="fu">save_tt</span>(dict, <span class="at">output =</span> <span class="st">"data_dictionary.html"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A human-readable data dictionary is necessary for making one’s research reproducible and the example we provided demonstrates only the bare minimum. A full data documentation including measurement instruments, sampling procedures, appropriate weighting, contact information, and more information about the study can be created with the R package <a href="https://rstudio.github.io/pointblank/articles/INFO-1.html"><code>pointblank</code></a>. And one could go even further by making the information machine-readable in a standardized way. We provide an optional example of that in <a href="#nte-frictionless" class="quarto-xref">Note&nbsp;2</a>. If you want to learn more about the sharing of research data, have a look at the tutorial “<a href="https://lmu-osc.github.io/FAIR-Data-Management/">FAIR research data management</a>”.</p>
<div id="nte-frictionless" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note&nbsp;2: Create Machine-Readable Variable Documentation
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This example demonstrates how the title and description of the data set, the description of the variables and their possible values are stored in a machine-readable way.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Console</strong></pre>
</div>
<div class="sourceCode" id="cb12" data-filename="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>table_info <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"penguins data set"</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">description =</span> <span class="st">"Size measurements for adult foraging penguins near Palmer Station, Antarctica"</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>descriptions <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">species =</span> <span class="st">"a character string denoting penguin species"</span>,</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">island =</span> <span class="st">"a character string denoting island in Palmer Archipelago, Antarctica"</span>,</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">bill_length_mm =</span> <span class="st">"a number denoting bill length (millimeters)"</span>,</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">bill_depth_mm =</span> <span class="st">"a number denoting bill depth (millimeters)"</span>,</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">flipper_length_mm =</span> <span class="st">"an integer denoting flipper length (millimeters)"</span>,</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">body_mass_g =</span> <span class="st">"an integer denoting body mass (grams)"</span>,</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">sex =</span> <span class="st">"a character string denoting penguin sex"</span>,</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">year =</span> <span class="st">"an integer denoting the study year"</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>vals <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">species =</span> <span class="fu">c</span>(<span class="st">"Adelie"</span>, <span class="st">"Gentoo"</span>, <span class="st">"Chinstrap"</span>),</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">island =</span> <span class="fu">c</span>(<span class="st">"Torgersen"</span>, <span class="st">"Biscoe"</span>, <span class="st">"Dream"</span>),</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">sex =</span> <span class="fu">c</span>(<span class="st">"male"</span>, <span class="st">"female"</span>),</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">year =</span> <span class="fu">c</span>(<span class="dv">2007</span>, <span class="dv">2008</span>, <span class="dv">2009</span>)</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Generally, metadata are either stored embedded into the data or externally, for example, in a separate file. We will use the “<a href="https://frictionlessdata.io/">frictionless data</a>” standard, where metadata are stored separately. Another alternative would be <a href="https://www.researchobject.org/ro-crate/">RO-Crate</a>.</p>
<p>Specifically, one can use the R package <a href="https://docs.ropensci.org/frictionless/"><code>frictionless</code></a> to create a <em>schema</em> which describes the structure of the data.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> For the purpose of the following code, it is just a nested list that we edit to include our own information. We also explicitly record in the schema that missing values are stored in the data file as <code>NA</code> and that the data are licensed under <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0&nbsp;1.0</a>. Finally, the package is used to create a metadata file that contains the schema.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Console</strong></pre>
</div>
<div class="sourceCode" id="cb13" data-filename="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read data and create schema</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>dat_filename <span class="ot">&lt;-</span> <span class="st">"Data.csv"</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(dat_filename)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>dat_schema <span class="ot">&lt;-</span> frictionless<span class="sc">::</span><span class="fu">create_schema</span>(dat)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Add descriptions to the fields</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>dat_schema<span class="sc">$</span>fields <span class="ot">&lt;-</span> <span class="fu">lapply</span>(dat_schema<span class="sc">$</span>fields, \(x) {</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(x, <span class="at">description =</span> descriptions[[x<span class="sc">$</span>name]])</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Record possible values</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>dat_schema<span class="sc">$</span>fields <span class="ot">&lt;-</span> <span class="fu">lapply</span>(dat_schema<span class="sc">$</span>fields, \(x) {</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (x<span class="sc">$</span>name <span class="sc">%in%</span> <span class="fu">names</span>(vals)) {</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">modifyList</span>(x, <span class="fu">list</span>(<span class="at">constraints =</span> <span class="fu">list</span>(<span class="at">enum =</span> vals[[x<span class="sc">$</span>name]])))</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">else</span> {</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    x</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Define missing values</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>dat_schema<span class="sc">$</span>missingValues <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">""</span>, <span class="st">"NA"</span>)</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Create package with license info and write it</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>dat_package <span class="ot">&lt;-</span> frictionless<span class="sc">::</span><span class="fu">create_package</span>() <span class="sc">|&gt;</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>  frictionless<span class="sc">::</span><span class="fu">add_resource</span>(</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">resource_name =</span> <span class="st">"penguins"</span>,</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> dat_filename,</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">schema =</span> dat_schema,</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> table_info[[<span class="st">"title"</span>]],</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">description =</span> table_info[[<span class="st">"description"</span>]],</span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">licenses =</span> <span class="fu">list</span>(<span class="fu">list</span>(</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="st">"CC0-1.0"</span>,</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>      <span class="at">path =</span> <span class="st">"https://creativecommons.org/publicdomain/zero/1.0/"</span>,</span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">"CC0 1.0 Universal"</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>    ))</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>frictionless<span class="sc">::</span><span class="fu">write_package</span>(dat_package, <span class="at">directory =</span> <span class="st">"."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This creates the metadata file <code>datapackage.json</code> in the current directory. Make sure it is located in the same folder as <code>Data.csv</code>, as together they comprise a <a href="https://specs.frictionlessdata.io/data-package/">data package</a>.</p>
</div>
</div>
</div>
<p>Having added the data and its documentation, one can view and record the utilized packages with <code>renv</code>…</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Console</strong></pre>
</div>
<div class="sourceCode" id="cb14" data-filename="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">status</span>()</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>…and go through the commit routine:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb15" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Add data"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="add-code" class="level2">
<h2 class="anchored" data-anchor-id="add-code">Add Code</h2>
<p>In order to have some code which you can practice to share, we have prepared a simple manuscript for you, alongside a bibliography file. The manuscript contains code together with a written narrative. Download the two files to your computer and put them into your project folder.</p>
<ul>
<li><a href="_01_Example/Manuscript.qmd" download=""><code>Manuscript.qmd</code></a></li>
<li><a href="_01_Example/Bibliography.bib" download=""><code>Bibliography.bib</code></a></li>
</ul>
<p>The manuscript explores differences in bill length between male and female penguins, feel free to read through it.</p>
<div id="imp-take-copyright-seriously" class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important&nbsp;2: Take Copyright Seriously
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you include work by others in your project – especially if you intend to make it available publicly –, make sure you have the necessary rights to do so. Only build on existing work for which you receive an express grant of relevant rights. How do you know you are allowed to copy, edit, and share the two files linked above?</p>
</div>
</div>
<div id="nte-take-copyright-seriously-solution" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note&nbsp;3: Hint for “Take Copyright Seriously”
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Have a look at the <a href="./about.html">about page</a>.</p>
</div>
</div>
</div>
<p>As the manuscript uses some new packages, install them with:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Console</strong></pre>
</div>
<div class="sourceCode" id="cb16" data-filename="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The manuscript also uses the Quarto extension “<a href="https://wjschne.github.io/apaquarto/">apaquarto</a>”, which typesets documents according to the requirements of the American Psychological Association <span class="citation" data-cites="APA2020">(<a href="#ref-APA2020" role="doc-biblioref">2020</a>)</span>. It can be installed in the project using the following command:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb17" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> add <span class="at">--no-prompt</span> wjschne/apaquarto</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tip-apaquarto" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;2: Not a Psychologist?
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you are not a psychologist, you can also skip installing <code>apaquarto</code>. If you installed it by accident, run <code>quarto remove wjschne/apaquarto</code>.</p>
<p>Note, however, that the file <code>Manuscript.qmd</code> we prepared for you uses <code>apaquarto</code> by default and you need to set a different <code>format</code> in the YAML header if you decide not to use <code>apaquarto</code>:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Manuscript.qmd</strong></pre>
</div>
<div class="sourceCode" id="cb18" data-filename="Manuscript.qmd"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">pdf</span><span class="kw">:</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">pdf-engine</span><span class="kw">:</span><span class="at"> lualatex</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">documentclass</span><span class="kw">:</span><span class="at"> scrartcl</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">papersize</span><span class="kw">:</span><span class="at"> a4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>Also, you need to have a <span class="math inline">\(\TeX\)</span> distribution installed on your computer, which is used in the background to typeset PDF documents. A lightweight choice is <a href="https://yihui.org/tinytex/">TinyTeX</a>, which can be installed with Quarto as follows:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb19" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> install tinytex</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You should now be able to render the document using Quarto:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb20" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render Manuscript.qmd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This should create a PDF file called <code>Manuscript.pdf</code> in your project folder.</p>
<div id="tip-update-quarto" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;3
</div>
</div>
<div class="callout-body-container callout-body">
<p>If the PDF file cannot be created, try updating Quarto. It comes bundled with RStudio, however, <code>apaquarto</code> sometimes requires more recent versions.</p>
</div>
</div>
<p>With the code being added, one can use <code>renv</code> again to view and record the new packages:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Console</strong></pre>
</div>
<div class="sourceCode" id="cb21" data-filename="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">status</span>()</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="tip-renv-status" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip&nbsp;4
</div>
</div>
<div class="callout-body-container callout-body">
<p>Always run <code>renv::status()</code> and resolve any inconsistencies before you commit code to your project. This way, every commit represents a working state of your project.</p>
</div>
</div>
<p>Finally, make your changes known to Git:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb22" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Add manuscript"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="wrn-credentials" class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning&nbsp;1: Beware of Credentials
</div>
</div>
<div class="callout-body-container callout-body">
<p>Sometimes, a data analysis requires the interaction with online services:</p>
<ul>
<li>Data may be collected from social network sites using their APIs<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> or downloaded from a data repository, or</li>
<li>an analysis may be conducted with the help of AI providers.</li>
</ul>
<p>In these cases, make sure that the code you check in to Git does not contain any credentials that are required for accessing these services. Instead, make use of environment variables which are defined in a location that is excluded from version control. When programming with R, you can define them in a file called <code>.Renviron</code> in the root of your project folder:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>.Renviron</strong></pre>
</div>
<div class="sourceCode" id="cb23" data-filename=".Renviron"><pre class="sourceCode ini code-with-copy"><code class="sourceCode ini"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="dt">MY_FIRST_KEY</span><span class="ot">=</span><span class="st">"your_api_key_here"</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="dt">MY_SECOND_KEY</span><span class="ot">=</span><span class="st">"your_api_key_here"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When you start a new session from the project root, the file is automatically read by R and the environment variables can be accessed using <code>Sys.getenv()</code>:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">query_api</span>(..., <span class="at">api_key =</span> <span class="fu">Sys.getenv</span>(<span class="st">"MY_FIRST_KEY"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Make sure that <code>.Renviron</code> is added to your <code>.gitignore</code> file in order to exclude it from the Git repository. If you already committed a file that contains credentials, you can follow <span class="citation" data-cites="Chacon2024">Chacon &amp; Straub (<a href="#ref-Chacon2024" role="doc-biblioref">2024</a>)</span>.</p>
</div>
</div>
<section id="coding-best-practices" class="level3">
<h3 class="anchored" data-anchor-id="coding-best-practices">Coding Best Practices</h3>
<p>Although we provide the code in this example for you, a few things remain to be said about best practices when it comes to writing code that is readable and maintainable.</p>
<ul>
<li><p><strong>Use project-relative paths.</strong> When you refer to a file within your project, write paths relative to your project root. For example, don’t write <code>C:/Users/Public/Documents/my_project/images/result.png</code>, instead write <code>images/result.png</code>.</p></li>
<li><p><strong>Keep it simple.</strong> Add complexity only when you must. Whenever there’s a boring way to do something and a clever way, go for the boring way. If the code grows increasingly complex, refactor it into separate functions and files.</p></li>
<li><p><strong>Don’t repeat yourself.</strong> Use variables and functions before you start to write (or copy-paste) the same thing twice.</p></li>
<li><p><strong>Use comments to explain why you do things.</strong> The code already shows what you do. Use comments to summarize it and explain why you do it.</p></li>
<li><p><strong>Don’t reinvent the wheel.</strong> With R, chances are that what you need to do is greatly facilitated by a package from one of many high-quality collections such as <a href="https://ropensci.org/packages/">rOpenSci</a>, <a href="https://github.com/r-lib">r-lib</a>, <a href="https://www.tidyverse.org/packages/">Tidyverse</a>, or <a href="https://fastverse.github.io/fastverse/">fastverse</a>.</p></li>
<li><p><strong>Think twice about your dependencies.</strong> Every dependency increases the risk of irreproducibility in the future. Prefer packages that are well-maintained and light on dependencies<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>. We also recommend you to read “When should you take a dependency?” by <span class="citation" data-cites="Wickham2023PackagesDependency">Wickham &amp; Bryan (<a href="#ref-Wickham2023PackagesDependency" role="doc-biblioref">2023</a>)</span>.</p></li>
<li><p><strong>Fail early, often, and noisily.</strong> Whenever you expect a certain state, use assertions to be sure. In R, you can use <code>stopifnot()</code> to make sure that a condition is actually true.</p></li>
<li><p><strong>Test your code.</strong> Test your code with scenarios where you know what the result should be. Turn bugs you discovered into test cases. Use linting tools<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a> to identify common mistakes in your code, for example, the R package <a href="https://lintr.r-lib.org/"><code>lintr</code></a>.</p></li>
<li><p><strong>Read through a style guide and follow it.</strong> A style guide is a set of stylistic conventions that improve the code quality. R users are recommended to read Wickham’s <span class="citation" data-cites="Wickham2022Style">(<a href="#ref-Wickham2022Style" role="doc-biblioref">2022</a>)</span> “Tidyverse style guide” and use the R package <a href="https://styler.r-lib.org/"><code>styler</code></a>. Python users may benefit from reading the “Style Guide for Python Code” by <span class="citation" data-cites="VanRossum2013">Rossum et al. (<a href="#ref-VanRossum2013" role="doc-biblioref">2013</a>)</span>. And even if you don’t follow a style guide, be consistent.</p></li>
</ul>
<p>This is only a brief summary and there is much more to be learned about coding practices. If you want to dive deeper we recommend the following resources:</p>
<ul>
<li>“Tidy design principles” <span class="citation" data-cites="Wickham2023Design">(<a href="#ref-Wickham2023Design" role="doc-biblioref">Wickham, 2023</a>)</span></li>
<li>“The Good Research Code Handbook” <span class="citation" data-cites="Mineault2021">(<a href="#ref-Mineault2021" role="doc-biblioref">Mineault &amp; Nozawa, 2021</a>)</span></li>
<li>“Quality assurance of code for analysis and research” <span class="citation" data-cites="UKGovernment2020">(<a href="#ref-UKGovernment2020" role="doc-biblioref">UK Government Analytical Community, 2020</a>)</span></li>
<li>“The Art of UNIX Programming” <span class="citation" data-cites="Raymond2003">(<a href="#ref-Raymond2003" role="doc-biblioref">Raymond, 2003</a>)</span></li>
</ul>
<blockquote class="blockquote">
<p>“Any fool can write code that a computer can understand. Good programmers write code that humans can understand.”</p>
<p>— <span class="citation" data-cites="Fowler1999">Fowler et al. (<a href="#ref-Fowler1999" role="doc-biblioref">1999</a>)</span>, p.&nbsp;15</p>
</blockquote>
</section>
</section>
<section id="cite-data-and-software" class="level2">
<h2 class="anchored" data-anchor-id="cite-data-and-software">Cite Data and Software</h2>
<p>If you rely on data or software by others in your research, the question arises whether and how to cite it in your publications.</p>
<section id="data" class="level3">
<h3 class="anchored" data-anchor-id="data">Data</h3>
<p>Put simply, all data relied upon should be cited to allow for precise identification and access. From the “eight core principles of data citation” by <span class="citation" data-cites="Starr2015">Starr et al. (<a href="#ref-Starr2015" role="doc-biblioref">2015</a>)</span>, licensed under <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0&nbsp;1.0</a>:</p>
<blockquote class="blockquote">
<p><strong>Principle 1 – Importance</strong>: “Data should be considered legitimate, citable products of research. Data citations should be accorded the same importance in the scholarly record as citations of other research objects, such as publications.”</p>
<p><strong>Principle 3 – Evidence</strong>: “In scholarly literature, whenever and wherever a claim relies upon data, the corresponding data should be cited.”</p>
<p><strong>Principle 5 – Access</strong>: “Data citations should facilitate access to the data themselves and to such associated metadata, documentation, code, and other materials, as are necessary for both humans and machines to make informed use of the referenced data.”</p>
<p><strong>Principle 7 – Specificity and Verifiability</strong>: “Data citations should facilitate identification of, access to, and verification of the specific data that support a claim. Citations or citation metadata should include information about provenance and fixity sufficient to facilitate verifying that the specific time slice, version and/or granular portion of data retrieved subsequently is the same as was originally cited.”</p>
</blockquote>
<p>Now, add an appropriate citation for the data set to the manuscript. Does your citation adhere to the principles above?</p>
<div id="nte-cite-palmerpenguins" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note&nbsp;4: Hint for citing the data set
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>As the data set is from the R package <code>palmerpenguins</code>, one can use the function <code>citation()</code> to display a suggested citation:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">citation</span>(<span class="st">"palmerpenguins"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>To cite palmerpenguins in publications use:

  Horst AM, Hill AP, Gorman KB (2020). palmerpenguins: Palmer
  Archipelago (Antarctica) penguin data. R package version 0.1.0.
  https://allisonhorst.github.io/palmerpenguins/. doi:
  10.5281/zenodo.3960218.

A BibTeX entry for LaTeX users is

  @Manual{,
    title = {palmerpenguins: Palmer Archipelago (Antarctica) penguin data},
    author = {Allison Marie Horst and Alison Presmanes Hill and Kristen B Gorman},
    year = {2020},
    note = {R package version 0.1.0},
    doi = {10.5281/zenodo.3960218},
    url = {https://allisonhorst.github.io/palmerpenguins/},
  }</code></pre>
</div>
</div>
<p>As this can only be run with the package <code>palmerpenguins</code> installed, you can also find a <a href="https://allisonhorst.github.io/palmerpenguins/#citation">suggested citation on its website</a>.</p>
<p>Copy the BibTeX entry to the file <code>Bibliography.bib</code> and add an identifier between <code>@Manual{</code> and the comma, such that the entry’s first line reads <code>@Manual{horst2020,</code>. Then, add a sentence to the manuscript such as follows:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>The analyzed data are by @horst2020.</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Render the document to check that the citation is displayed properly.</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb28" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render Manuscript.qmd</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="software" class="level3">
<h3 class="anchored" data-anchor-id="software">Software</h3>
<p>When it comes to software, the answer is a little more nuanced due to the large number of involved dependencies. You can consult <a href="#fig-software-citation" class="quarto-xref">Figure&nbsp;1</a> for general advice whether to cite a particular piece of software or not. As with data, citations should allow for exact identification and access. From the six “software citation principles” by <span class="citation" data-cites="Smith2016">Smith et al. (<a href="#ref-Smith2016" role="doc-biblioref">2016</a>)</span>, licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC&nbsp;BY&nbsp;4.0</a>:</p>
<blockquote class="blockquote">
<p><strong>1. Importance</strong>: Software should be considered a legitimate and citable product of research. Software citations should be accorded the same importance in the scholarly record as citations of other research products, such as publications and data; they should be included in the metadata of the citing work, for example in the reference list of a journal article, and should not be omitted or separated. Software should be cited on the same basis as any other research product such as a paper or a book, that is, authors should cite the appropriate set of software products just as they cite the appropriate set of papers.</p>
<p><strong>5. Accessibility</strong>: Software citations should facilitate access to the software itself and to its associated metadata, documentation, data, and other materials necessary for both humans and machines to make informed use of the referenced software.</p>
<p><strong>6. Specificity</strong>: Software citations should facilitate identification of, and access to, the specific version of software that was used. Software identification should be as specific as necessary, such as using version numbers, revision numbers, or variants such as platforms.</p>
</blockquote>
<p>In practice, the first step is to identify all pieces of software the project relies on. A few of them are obvious, such as R itself, Quarto, and the <span class="math inline">\(\TeX\)</span> distribution we installed before. Then there are the individual R packages, Quarto extensions, and <span class="math inline">\(\TeX\)</span> packages. All of them, in turn, may have dependencies and it is up to you decide when not to dig deeper. For example, some R packages are only thin wrappers around other R packages or around system dependencies which also might deserve credit. A system dependency is additional software that you require on your computer apart from the R package.</p>
<div id="fig-software-citation" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-software-citation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">flowchart TB
  asks_for_citation("Does the software&lt;br&gt;ask you to cite it?")
  critical_or_unique_contribution("Did the software&lt;br&gt;play a critical part&lt;br&gt;in or contributed&lt;br&gt;something unique&lt;br&gt;to your research?")
  manipulate("Did the software&lt;br&gt;manipulate or create&lt;br&gt;your data, software,&lt;br&gt;or other outputs?")
  relies_on_credit("Do the authors of&lt;br&gt;the software rely&lt;br&gt;on academic credit&lt;br&gt;for funding?")
  cite[Cite!]
  nocite[Don't cite!]

  asks_for_citation --"Yes"--&gt; cite
  asks_for_citation --"No"--&gt; critical_or_unique_contribution
  critical_or_unique_contribution --"Yes"--&gt; cite
  critical_or_unique_contribution --"No"--&gt; manipulate
  manipulate --"Yes"--&gt; cite
  manipulate --"No"--&gt; relies_on_credit
  relies_on_credit --"Yes"--&gt; cite
  relies_on_credit --"No"--&gt; nocite
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-software-citation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: “Should I cite the software?” by <span class="citation" data-cites="Brown2016">Brown et al. (<a href="#ref-Brown2016" role="doc-biblioref">2016</a>)</span> licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC&nbsp;BY-SA&nbsp;4.0</a>. Simplified from original.
</figcaption>
</figure>
</div>
<p>Now, add references for the software you would like to cite to the manuscript. In the following, we will demonstrate this for R and all R packages by using the R package <code>grateful</code>. For arbitrary software, you can use the <a href="https://citeas.org/">CiteAs service</a> to create appropriate citations.</p>
<p>Add the following code chunk to the end of the discussion in the manuscript:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Manuscript.qmd</strong></pre>
</div>
<div class="sourceCode" id="cb29" data-filename="Manuscript.qmd"><pre class="sourceCode markdown qmd code-with-copy"><code class="sourceCode markdown"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="in">#| echo: false</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="in">grateful::cite_packages(</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="in">    output = "paragraph",</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="in">    out.dir = ".",</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="in">    omit = NULL,</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="in">    dependencies = TRUE,</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="in">    passive.voice = TRUE,</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="in">    bib.file = "grateful-refs"</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This will automatically create a paragraph citing all used packages and generate the bibliography file <code>grateful-refs.bib</code>.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> Then, in the YAML header, add <code>grateful-refs.bib</code> by setting the <code>bibliography</code> as follows:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Manuscript.qmd</strong></pre>
</div>
<div class="sourceCode" id="cb30" data-filename="Manuscript.qmd"><pre class="sourceCode yml code-with-copy"><code class="sourceCode yaml"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bibliography</span><span class="kw">:</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> Bibliography.bib</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> grateful-refs.bib</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Use <code>renv</code> to view, install, and record the newly used package:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Console</strong></pre>
</div>
<div class="sourceCode" id="cb31" data-filename="Console"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">status</span>()</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">install</span>()</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">snapshot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally, render the document again and commit the changes:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb32" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> render Manuscript.qmd</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Cite data and software"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="the-last-mile" class="level2">
<h2 class="anchored" data-anchor-id="the-last-mile">The Last Mile</h2>
<p><code>renv</code> only records the versions of R packages and of R itself. This means that everything we have not decided to cite in the previous step is not documented anywhere. We will cover system dependencies when <a href="./make_readme.html">creating a README</a>. For now, however, there is one simple step you can take to record the version of Quarto (and a few other dependencies). Do run the following:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb33" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="ex">quarto</span> use binder</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This will create a few additional files which facilitate reconstructing the computational environment in the future.<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a> As always, commit your changes:</p>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>Terminal</strong></pre>
</div>
<div class="sourceCode" id="cb34" data-filename="Terminal"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add .</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"Add repo2docker config"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>You are now all set up to prepare your project for sharing!</p>



</section>


<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-Brown2016" class="csl-entry" role="listitem">
Brown, L., Crusoe, M. R., Miļajevs, D., &amp; Romanowska, I. (2016). <em><span class="nocase">Should you cite this particular piece of software?</span></em> <a href="https://mr-c.github.io/shouldacite/" class="uri">https://mr-c.github.io/shouldacite/</a>. <a href="https://doi.org/10.5281/zenodo.2559142">https://doi.org/10.5281/zenodo.2559142</a>
</div>
<div id="ref-Chacon2024" class="csl-entry" role="listitem">
Chacon, S., &amp; Straub, B. (2024). Removing a file from every commit. In <em>Pro git</em> (Second edition). Apress. <a href="https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History#_removing_file_every_commit">https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History#_removing_file_every_commit</a>
</div>
<div id="ref-Fowler1999" class="csl-entry" role="listitem">
Fowler, M., Beck, K., Opdyke, W., &amp; Roberts, D. (1999). <em>Refactoring: Improving the design of existing code</em>. Addison-Wesley.
</div>
<div id="ref-Marwick2018" class="csl-entry" role="listitem">
Marwick, B., Boettiger, C., &amp; Mullen, L. (2018). Packaging data analytical work reproducibly using <span>R</span> (and friends). <em>The American Statistician</em>, <em>72</em>(1), 80–88. <a href="https://doi.org/10.1080/00031305.2017.1375986">https://doi.org/10.1080/00031305.2017.1375986</a>
</div>
<div id="ref-Mineault2021" class="csl-entry" role="listitem">
Mineault, P., &amp; Nozawa, K. (2021, December 21). <em>The good research code handbook</em>. <a href="https://goodresearch.dev/" class="uri">https://goodresearch.dev/</a>. <a href="https://doi.org/10.5281/ZENODO.5796873">https://doi.org/10.5281/ZENODO.5796873</a>
</div>
<div id="ref-TIER4" class="csl-entry" role="listitem">
Project TIER. (2021). <em><span>TIER</span> protocol 4.0</em>. <a href="https://www.projecttier.org/tier-protocol/protocol-4-0/">https://www.projecttier.org/tier-protocol/protocol-4-0/</a>
</div>
<div id="ref-APA2020" class="csl-entry" role="listitem">
<em>Publication manual of the american psychological association</em> (7th ed.). (2020). American Psychological Association. <a href="https://doi.org/10.1037/0000165-000">https://doi.org/10.1037/0000165-000</a>
</div>
<div id="ref-Raymond2003" class="csl-entry" role="listitem">
Raymond, E. S. (2003). <em>The art of <span>UNIX</span> programming: With contributions from thirteen <span>UNIX</span> pioneers, including its inventor, ken thompson</em>. Addison-Wesley. <a href="https://www.arp242.net/the-art-of-unix-programming/">https://www.arp242.net/the-art-of-unix-programming/</a>
</div>
<div id="ref-VanRossum2013" class="csl-entry" role="listitem">
Rossum, G. van, Warsaw, B., &amp; Coghlan, A. (2013, August 1). <em>Style guide for python code. Python enhancement proposals (<span>PEPs</span>)</em>. <a href="https://peps.python.org/pep-0008/">https://peps.python.org/pep-0008/</a>
</div>
<div id="ref-Smith2016" class="csl-entry" role="listitem">
Smith, A. M., Katz, D. S., Niemeyer, K. E., &amp; FORCE11 Software Citation Working Group. (2016). Software citation principles. <em><span>PeerJ</span> Computer Science</em>, <em>2</em>, e86. <a href="https://doi.org/10.7717/peerj-cs.86">https://doi.org/10.7717/peerj-cs.86</a>
</div>
<div id="ref-Starr2015" class="csl-entry" role="listitem">
Starr, J., Castro, E., Crosas, M., Dumontier, M., Downs, R. R., Duerr, R., Haak, L. L., Haendel, M., Herman, I., Hodson, S., Hourclé, J., Kratz, J. E., Lin, J., Nielsen, L. H., Nurnberger, A., Proell, S., Rauber, A., Sacchi, S., Smith, A., … Clark, T. (2015). Achieving human and machine accessibility of cited data in scholarly publications. <em><span>PeerJ</span> Computer Science</em>, <em>1</em>, e1. <a href="https://doi.org/10.7717/peerj-cs.1">https://doi.org/10.7717/peerj-cs.1</a>
</div>
<div id="ref-UKGovernment2020" class="csl-entry" role="listitem">
UK Government Analytical Community. (2020). <em>Quality assurance of code for analysis and research</em>. <a href="https://best-practice-and-impact.github.io/qa-of-code-guidance/">https://best-practice-and-impact.github.io/qa-of-code-guidance/</a>
</div>
<div id="ref-Vilhuber2021" class="csl-entry" role="listitem">
Vilhuber, L. (2021, April 8). <em>Preparing your files for verification. Office of the <span>AEA</span> data editor</em>. <a href="https://aeadataeditor.github.io/aea-de-guidance/preparing-for-data-deposit">https://aeadataeditor.github.io/aea-de-guidance/preparing-for-data-deposit</a>
</div>
<div id="ref-Vuorre2021" class="csl-entry" role="listitem">
Vuorre, M., &amp; Crump, M. J. C. (2021). Sharing and organizing research products as <span>R</span> packages. <em>Behavior Research Methods</em>, <em>53</em>(2), 792–802. <a href="https://doi.org/10.3758/s13428-020-01436-x">https://doi.org/10.3758/s13428-020-01436-x</a>
</div>
<div id="ref-Wickham2022Style" class="csl-entry" role="listitem">
Wickham, H. (2022, July 24). <em>The tidyverse style guide</em>. <a href="https://style.tidyverse.org/">https://style.tidyverse.org/</a>
</div>
<div id="ref-Wickham2023Design" class="csl-entry" role="listitem">
Wickham, H. (2023, November 20). <em>Tidy design principles</em>. <a href="https://design.tidyverse.org/">https://design.tidyverse.org/</a>
</div>
<div id="ref-Wickham2023PackagesDependency" class="csl-entry" role="listitem">
Wickham, H., &amp; Bryan, J. (2023). When should you take a dependency? In <em>R packages</em> (Second edition). O’Reilly Media. <a href="https://r-pkgs.org/dependencies-mindset-background.html#sec-dependencies-pros-cons">https://r-pkgs.org/dependencies-mindset-background.html#sec-dependencies-pros-cons</a>
</div>
<div id="ref-Wilson2017" class="csl-entry" role="listitem">
Wilson, G., Bryan, J., Cranston, K., Kitzes, J., Nederbragt, L., &amp; Teal, T. K. (2017). Good enough practices in scientific computing. <em>PLOS Computational Biology</em>, <em>13</em>(6), 1–20. <a href="https://doi.org/10.1371/journal.pcbi.1005510">https://doi.org/10.1371/journal.pcbi.1005510</a>
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Created with <code>palmerpenguins</code> v0.1.1 using <code>write.csv(palmerpenguins::penguins, file = "Data.csv", row.names = FALSE)</code>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>For example, using <a href="https://amnesia.openaire.eu/">Amnesia</a>, <a href="https://arx.deidentifier.org/">ARX</a>, <a href="https://sdctools.github.io/sdcMicro/">sdcMicro</a>, or <a href="https://www.synthpop.org.uk/">Synthpop</a>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Note that the code provided does not alter the data file – no labels will be added to <code>Data.csv</code>. The labels are only added to a (temporary) copy of the data set within R in order to create the data dictionary.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>In June 2024, <a href="https://datapackage.org/">version 2</a> of the frictionless data standard has been released. As of November 2024, the R package <code>frictionless</code> only supports the first version, though support for v2 is <a href="https://github.com/frictionlessdata/frictionless-r/labels/datapackage%3Av2">planned</a>.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>An <em>application programming interface</em> provides the capability to interact with other software using a programming language.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>You can use the function <code>pak::pkg_deps()</code> to count the total number of package dependencies in R.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p>A linting tool analyzes your code without actually running it. Therefore, this process is also called static code analysis.<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>Note that this automatic detection can miss packages in some circumstances, therefore always verify the rendered result.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9"><p>Either using <a href="https://repo2docker.readthedocs.io/">repo2docker</a> or the public <a href="https://mybinder.org/">binder</a> service.<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/lmu-osc\.github\.io\/code-publishing\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./intro.html" class="pagination-link" aria-label="Introduction">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Introduction</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./choose_license.html" class="pagination-link" aria-label="Choose a License">
        <span class="nav-page-text">Choose a License</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© 2024 Open Science Center at LMU Munich</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/lmu-osc/code-publishing/edit/main/setup.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/lmu-osc/code-publishing/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>